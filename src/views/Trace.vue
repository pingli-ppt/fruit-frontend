<template>
  <MainLayout>
    <div class="trace-page">
      <h1>æœå“è´¨æ£€ä¸æº¯æºæŸ¥è¯¢</h1>

      <TraceSearch @search="handleSearch" />

      <TraceSummary v-if="traceData" :data="traceData" />

      <TraceTimeline v-if="traceData" :data="traceData" />
    </div>
  </MainLayout>
</template>

<script setup>
import { ref } from 'vue'
import MainLayout from '../layouts/MainLayout.vue'
import TraceSearch from '../components/trace/TraceSearch.vue'
import TraceSummary from '../components/trace/TraceSummary.vue'
import TraceTimeline from '../components/trace/TraceTimeline.vue'

const traceData = ref(null)

const handleSearch = (code) => {
  // ğŸš§ åç«¯æ¥å£é¢„ç•™ï¼ˆç°åœ¨ mockï¼‰
  traceData.value = {
    batchCode: code,
    product: 'çº¢å¯Œå£«è‹¹æœ',
    origin: 'ä¸Šæµ·å¥‰è´¤åŒº',
    status: 'æ£€æµ‹åˆæ ¼',
    timeline: [
      {
        title: 'é‡‡æ‘˜è®°å½•',
        time: '2025-09-01',
        content: 'åˆä½œç¤¾å®Œæˆé‡‡æ‘˜'
      },
      {
        title: 'å†œæ®‹æ£€æµ‹',
        time: '2025-09-02',
        content: 'æ£€æµ‹åˆæ ¼ï¼ˆç¬¬ä¸‰æ–¹æœºæ„ï¼‰'
      },
      {
        title: 'å†·é“¾å‘è¿',
        time: '2025-09-03',
        content: 'è¿›å…¥å†·é“¾ç‰©æµç³»ç»Ÿ'
      },
      {
        title: 'è´£ä»»ä¸»ä½“',
        time: '2025-09-03',
        content: 'å¥‰è´¤ç»¿è‰²æœä¸šåˆä½œç¤¾'
      }
    ]
  }
}
</script>

<style scoped>
.trace-page {
  max-width: 900px;
  margin: 30px auto;
}
</style>
